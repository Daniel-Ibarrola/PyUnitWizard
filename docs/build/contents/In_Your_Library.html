

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>PyUnitWizard in your library &mdash; PyUnitWizard 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="All methods" href="../api/index.html" />
    <link rel="prev" title="Standardize" href="Standardize.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PyUnitWizard
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation and Quick tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Quick_Tutorial.html">Quick Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Quick_Tutorial.html#Import-PyUnitWizard-and-choose-the-libraries-you-are-going-to-work-with.">Import PyUnitWizard and choose the libraries you are going to work with.</a></li>
<li class="toctree-l2"><a class="reference internal" href="Quick_Tutorial.html#Let’s-create-a-quantity-to-play-a-bit-with-it">Let’s create a quantity to play a bit with it</a></li>
<li class="toctree-l2"><a class="reference internal" href="Quick_Tutorial.html#Let’s-now-create-a-unit-to-play-with-it">Let’s now create a unit to play with it</a></li>
<li class="toctree-l2"><a class="reference internal" href="Quick_Tutorial.html#Some-methods-to-work-with-quantities,-units-and-strings">Some methods to work with quantities, units and strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="Quick_Tutorial.html#The-default-quantity">The default quantity</a></li>
<li class="toctree-l2"><a class="reference internal" href="Quick_Tutorial.html#The-standards">The standards</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">User guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Importing.html">How to import the library</a></li>
<li class="toctree-l1"><a class="reference internal" href="Forms.html">Quantity forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="Quantity_and_Units.html">Quantity and Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dimensionality.html">Dimensionality and Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="Convert.html">Convert quantities</a></li>
<li class="toctree-l1"><a class="reference internal" href="Translate.html">Translate forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="Strings.html">Working with strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="Standardize.html">Standardize</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PyUnitWizard in your library</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">All methods</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/_autosummary/pyunitwizard.html">pyunitwizard</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/_autosummary/pyunitwizard.configure.html">pyunitwizard.configure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/_autosummary/pyunitwizard.forms.html">pyunitwizard.forms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/_autosummary/pyunitwizard.forms.api_pint.html">pyunitwizard.forms.api_pint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/_autosummary/pyunitwizard.forms.api_simtk_unit.html">pyunitwizard.forms.api_simtk_unit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/_autosummary/pyunitwizard.forms.api_unyt.html">pyunitwizard.forms.api_unyt</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/_autosummary/pyunitwizard.main.html">pyunitwizard.main</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyUnitWizard</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>PyUnitWizard in your library</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/contents/In_Your_Library.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="PyUnitWizard-in-your-library">
<h1>PyUnitWizard in your library<a class="headerlink" href="#PyUnitWizard-in-your-library" title="Permalink to this headline">¶</a></h1>
<p><em>Instructions to work with PyUnitWizard inside your own library</em></p>
<p>Here you can find the instructions to include PyUnitWizard in your projects. Following this indications, you don’t need to worry about the requirements of the libraries supported by PyUnitWizard such as Pint.</p>
<p>To illustrate how to include PyUnitWizard let’s see a very simple library you can find in <a class="reference external" href="https://github.com/uibcdf/PyUnitWizard/tree/main/examples">github repository (examples directory)</a>: <code class="docutils literal notranslate"><span class="pre">testlib</span></code>. This is its structure:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tree --dirsfirst --charset<span class="o">=</span>markdown testlib
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>testlib
|-- box
|   |-- __init__.py
|   |-- methods_a.py
|   |-- methods_b.py
|   `-- methods_c.py
|-- _pyunitwizard
|   `-- __init__.py
|-- __init__.py
</pre></div>
</div>
<p>Make a directory named <code class="docutils literal notranslate"><span class="pre">_pyunitwizard</span></code> in your project top directory. And include in <code class="docutils literal notranslate"><span class="pre">_pyunitwizard</span></code> a <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file such as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">### testlib/_pyunitwizard/__init__.py ###</span>
<span class="kn">import</span> <span class="nn">pyunitwizard</span> <span class="k">as</span> <span class="nn">puw</span>

<span class="c1"># In this case Pint and simtk.unit are loaded:</span>
<span class="n">puw</span><span class="o">.</span><span class="n">load_libraries</span><span class="p">([</span><span class="s1">&#39;pint&#39;</span><span class="p">,</span> <span class="s1">&#39;simtk.unit&#39;</span><span class="p">])</span>

<span class="c1"># And simtk.unit is defined as default form</span>
<span class="n">puw</span><span class="o">.</span><span class="n">set_default_form</span><span class="p">(</span><span class="s1">&#39;simtk.unit&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, let’s define some methods using your <code class="docutils literal notranslate"><span class="pre">_pyunitwizard</span></code> module. The first ones in the file <code class="docutils literal notranslate"><span class="pre">main.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">### testlib/main.py ###</span>
<span class="kn">from</span> <span class="nn">._pyunitwizard</span> <span class="kn">import</span> <span class="n">puw</span>

<span class="k">def</span> <span class="nf">sum_quantities</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">form</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="n">aa</span> <span class="o">=</span> <span class="n">puw</span><span class="o">.</span><span class="n">string_to_quantity</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">to_form</span><span class="o">=</span><span class="n">form</span><span class="p">)</span>
    <span class="n">bb</span> <span class="o">=</span> <span class="n">puw</span><span class="o">.</span><span class="n">string_to_quantity</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">to_form</span><span class="o">=</span><span class="n">form</span><span class="p">)</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">aa</span><span class="o">+</span><span class="n">bb</span>

    <span class="k">return</span> <span class="n">output</span>

<span class="k">def</span> <span class="nf">get_form</span><span class="p">(</span><span class="n">quantity</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">puw</span><span class="o">.</span><span class="n">get_form</span><span class="p">(</span><span class="n">quantity</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">libraries_loaded</span><span class="p">():</span>

    <span class="k">return</span> <span class="n">puw</span><span class="o">.</span><span class="n">libraries_loaded</span><span class="p">()</span>
</pre></div>
</div>
<p>And in a directory named <code class="docutils literal notranslate"><span class="pre">box</span></code> let’s include two methods to test your <code class="docutils literal notranslate"><span class="pre">_pyunitwizard</span></code> module:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">### testlib/box/methods_a.py</span>
<span class="kn">from</span> <span class="nn">.._pyunitwizard</span> <span class="kn">import</span> <span class="n">puw</span>

<span class="k">def</span> <span class="nf">get_default_form</span><span class="p">():</span>

    <span class="k">return</span> <span class="n">puw</span><span class="o">.</span><span class="n">get_default_form</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">### testlib/box/methods_b.py</span>
<span class="kn">from</span> <span class="nn">.._pyunitwizard</span> <span class="kn">import</span> <span class="n">puw</span>

<span class="k">def</span> <span class="nf">set_default_form</span><span class="p">(</span><span class="n">form</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">puw</span><span class="o">.</span><span class="n">set_default_form</span><span class="p">(</span><span class="n">form</span><span class="p">)</span>
</pre></div>
</div>
<p>Finnally, let’s writte the <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> files in the top directory and in <code class="docutils literal notranslate"><span class="pre">box</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># testlib/box/__init__.py</span>
<span class="kn">from</span> <span class="nn">.methods_a</span> <span class="kn">import</span> <span class="n">get_default_form</span>
<span class="kn">from</span> <span class="nn">.methods_b</span> <span class="kn">import</span> <span class="n">set_default_form</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># testlib/__init__.py</span>
<span class="kn">from</span> <span class="nn">.main</span> <span class="kn">import</span> <span class="n">sum_quantities</span><span class="p">,</span> <span class="n">get_form</span><span class="p">,</span> <span class="n">libraries_loaded</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">box</span>
</pre></div>
</div>
<p>This way we already have a simple library using PyUnitWizard. You can check how <code class="docutils literal notranslate"><span class="pre">testlib</span></code> works:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">testlib</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">testlib</span><span class="o">.</span><span class="n">libraries_loaded</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="p">[</span><span class="s1">&#39;pint&#39;</span><span class="p">,</span> <span class="s1">&#39;simtk.unit&#39;</span><span class="p">]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">q</span> <span class="o">=</span> <span class="n">testlib</span><span class="o">.</span><span class="n">sum_quantities</span><span class="p">(</span><span class="s1">&#39;2cm&#39;</span><span class="p">,</span><span class="s1">&#39;3cm&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">testlib</span><span class="o">.</span><span class="n">get_form</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="s1">&#39;simtk.unit&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">testlib</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">get_default_form</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="s1">&#39;simtk.unit&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">testlib</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">set_default_form</span><span class="p">(</span><span class="s1">&#39;pint&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="n">q</span> <span class="o">=</span> <span class="n">testlib</span><span class="o">.</span><span class="n">sum_quantities</span><span class="p">(</span><span class="s1">&#39;2cm&#39;</span><span class="p">,</span><span class="s1">&#39;3cm&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="n">testlib</span><span class="o">.</span><span class="n">get_form</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="s1">&#39;pint&#39;</span>
</pre></div>
</div>
<div class="alert alert-block alert-info"><p>Tip: Together with testlib, in the github repository, you can find testlib2 where pyunitwizard is included using only absolut import paths -as suggested by PEP8-</p>
</div></div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../api/index.html" class="btn btn-neutral float-right" title="All methods" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="Standardize.html" class="btn btn-neutral float-left" title="Standardize" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, UIBCDF Lab at the Mexico City Childrens Hospital Federico Gomez and authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>